fullnameOverride: datagrip
image:
  registry: "ghcr.io/k8s-at-home"
  repository: projector-datagrip
  tag: "v2021.1"
idea:
  config:
    path: "/config"
  system:
    path: "/config/system"
  plugins:
    path: "/config/plugins"
  log:
    path: "/config/log"
ingress:
  enabled: true
  annotations:
    traefik.ingress.kubernetes.io/router.entrypoints: websecure
    traefik.ingress.kubernetes.io/router.priority: "10"
    cert-manager.io/cluster-issuer: le-production
  hosts:
    - host: "datagrip.ide.cajun.pro"
      paths:
        - path: /
          pathType: Prefix
  tls:
    - hosts: ["datagrip.ide.cajun.pro"]
      secretName: 'datagrip-ide-cajun-pro'
persistence:
  config:
    enabled: true
    nameSuffix: "-"
    storageClass: rook-cephfs
    size: 10Gi
    accessMode: ReadWriteMany
    skipuninstall: true
nodeSelector:
  cajun.pro/cluster-gen: "2"
envValueFrom:
  ORG_JETBRAINS_PROJECTOR_SERVER_HANDSHAKE_TOKEN:
    secretKeyRef:
      name: "projeector-creds"
      key: datagrip
  ORG_JETBRAINS_PROJECTOR_SERVER_RO_HANDSHAKE_TOKEN:
    secretKeyRef:
      name: "projeector-creds"
      key: read-only
service:
  labels:
    traefik.ingress.kubernetes.io/service.serversscheme: https
